<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Secure Portal | kiranregmi.com</title>

  <link rel="stylesheet" href="styles.css" />
</head>
<body class="portal-body">
  <!-- Top Navbar -->
  <header class="site-header">
    <nav class="navbar portal-top-nav">
      <div class="portal-nav-left">
        <a href="index.html" class="portal-logo-link">
          <span class="portal-logo-badge">KR</span>
        </a>
      </div>

      <div class="portal-nav-center">
        <button type="button" class="portal-tab active" data-view="projectsView">
          Projects
        </button>
        <button type="button" class="portal-tab" data-view="practiceView">
          Interview Practice
        </button>
        <button type="button" class="portal-tab" data-view="profileView">
          Profile
        </button>
        <button
          type="button"
          class="portal-tab portal-tab-admin hidden"
          data-view="adminView"
          id="adminTab"
        >
          Admin Panel
        </button>
      </div>

      <div class="portal-nav-right">
        <span id="portalUserEmail" class="portal-user-email"></span>
        <button id="logoutBtn" class="portal-logout-btn hidden">Logout</button>
      </div>
    </nav>
  </header>

  <main class="portal-main">
    <!-- LOGIN VIEW -->
    <section class="auth-wrapper" id="authSection">
      <h2>Secure Portal Login</h2>
      <p>Sign in to access projects and interview practice tools.</p>

      <form id="loginForm">
        <div class="auth-form-group">
          <label for="email">Email</label>
          <input type="email" id="email" required placeholder="you@example.com" />
        </div>

        <div class="auth-form-group">
          <label for="password">Password</label>
          <input type="password" id="password" required placeholder="••••••••" />
        </div>

        <button type="submit" class="btn-primary auth-btn-full">Login</button>

        <div id="authError" class="auth-error hidden">
          Invalid credentials. Please try again.
        </div>

        <p class="auth-demo-note">
          Demo accounts:
          <br />
          Admin: <code>admin@kiranregmi.com / Admin@123</code><br />
          User: <code>user@kiranregmi.com / User@123</code>
        </p>
      </form>
    </section>

    <!-- PORTAL APP -->
    <section id="portalShell" class="portal-shell hidden">
      <!-- PROJECTS VIEW -->
      <section id="projectsView" class="portal-view active">
        <header class="portal-section-header">
          <div>
            <h2>Projects</h2>
            <p class="portal-section-subtitle">
              Simple governance view of compliance, risk and control owners.
            </p>
          </div>
          <div>
            <button id="addProjectBtn" class="btn-secondary hidden">
              + New Project
            </button>
          </div>
        </header>

        <div class="portal-card">
          <table class="project-list" id="projectTable">
            <thead>
              <tr>
                <th>Project</th>
                <th>Compliance</th>
                <th>Risk Impact</th>
                <th>Status</th>
                <th>Audit Date</th>
                <th>Control Owner</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="projectTableBody">
              <!-- filled by JS -->
            </tbody>
          </table>
          <p class="portal-helper-text">
            Admin can create and manage projects. Standard users have view-only access.
          </p>
        </div>
      </section>

      <!-- INTERVIEW PRACTICE VIEW -->
      <section id="practiceView" class="portal-view">
        <header class="portal-section-header">
          <div>
            <h2>Interview Practice</h2>
            <p class="portal-section-subtitle">
              SOC, GRC, IAM flashcards. Tap to reveal answers. Use the colored
              pills to track what needs more work.
            </p>
          </div>
          <div class="practice-progress">
            <span id="practiceProgressLabel">
              Pick a category and start drilling.
            </span>
          </div>
        </header>

        <div class="practice-controls">
          <div class="mode-toggle">
            <button id="studyModeBtn" type="button" class="btn-chip active">
              Study Mode
            </button>
            <button id="quizModeBtn" type="button" class="btn-chip">
              Quiz Mode
            </button>
            <select id="categoryFilter">
              <option value="SOC">SOC Interview</option>
              <option value="GRC">GRC Interview</option>
              <option value="IAM">IAM Interview</option>
              <option value="all">All Categories</option>
            </select>
            <button id="shuffleBtn" type="button" class="btn-link">
              Shuffle
            </button>
          </div>
        </div>

        <div id="questionsContainer" class="cards-column">
          <!-- cards injected by JS -->
        </div>

        <div id="practiceSummary" class="practice-summary-text"></div>
        <div id="practicePagination" class="pagination-controls"></div>
      </section>

      <!-- PROFILE VIEW -->
      <section id="profileView" class="portal-view">
        <header class="portal-section-header">
          <div>
            <h2>Profile</h2>
            <p class="portal-section-subtitle">
              Basic session details for this demo portal.
            </p>
          </div>
        </header>

        <div class="portal-card">
          <ul class="profile-list">
            <li><strong>Email:</strong> <span id="profileEmail"></span></li>
            <li><strong>Role:</strong> <span id="profileRole"></span></li>
            <li><strong>Display Name:</strong> <span id="profileName"></span></li>
          </ul>
        </div>
      </section>

      <!-- ADMIN VIEW -->
      <section id="adminView" class="portal-view">
        <header class="portal-section-header">
          <div>
            <h2>Admin Panel</h2>
            <p class="portal-section-subtitle">
              Restricted to admin role. Use this panel to talk about RBAC and least
              privilege during interviews.
            </p>
          </div>
        </header>

        <div class="portal-card">
          <ul class="profile-list">
            <li>User management (create, disable, reset access)</li>
            <li>Project access control configuration</li>
            <li>Audit logs / activity tracking</li>
          </ul>
          <p class="portal-helper-text">
            This panel is conceptual in the demo. The real value is how you explain
            the design to a hiring manager.
          </p>
        </div>
      </section>
    </section>
  </main>

  <footer class="site-footer">
    <p>© 2025 kiranregmi.com • Identity & Access Controlled Portal</p>
  </footer>

  <script src="portal.js"></script>

  <!-- Project Drawer -->
  <div id="projectDrawer" class="drawer hidden">
    <div class="drawer-content">
      <span id="drawerClose" class="drawer-close">&times;</span>
      <h3 id="drawerTitle">Add Project</h3>

      <form id="projectForm">
        <label>Project Name</label>
        <input type="text" id="formProjectName" />

        <label>Compliance Framework</label>
        <select id="formCompliance">
          <option>SOC2</option>
          <option>ISO27001</option>
          <option>PCI-DSS</option>
          <option>NIST CSF</option>
          <option>HIPAA</option>
        </select>

        <label>Risk Impact</label>
        <select id="formRisk">
          <option>High</option>
          <option>Medium</option>
          <option>Low</option>
        </select>

        <label>Status</label>
        <select id="formStatus">
          <option>Active</option>
          <option>Pending</option>
          <option>Closed</option>
        </select>

        <label>Control Owner</label>
        <select id="formAssignedTo">
          <option>GRC Team</option>
          <option>SOC Team</option>
          <option>IAM Team</option>
          <option>SecOps Team</option>
        </select>

        <label>Last Audit Date</label>
        <input type="date" id="formLastAudit" />

        <button type="submit" class="btn-primary drawer-save">Save Project</button>
      </form>
    </div>
  </div>
</body>
</html>
