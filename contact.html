<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact | Kiran Regmi</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#0a192f] text-gray-300">

    <!-- Navbar -->
    <nav class="flex justify-between items-center py-6 px-10 bg-[#0a192f]">
        <a href="index.html" class="text-teal-400 text-xl font-bold hover:text-teal-300">
            Kiran Regmi
        </a>

        <div class="space-x-10 text-lg">
            <a href="index.html" class="text-gray-300 hover:text-teal-400">Home</a>
            <a href="projects.html" class="text-gray-300 hover:text-teal-400">Projects</a>
            <a href="resume.html" class="text-gray-300 hover:text-teal-400">Resume</a>
            <a href="labs/index.html" class="text-gray-300 hover:text-teal-400">Labs</a>
            <a href="contact.html" class="text-teal-400 font-semibold">Contact</a>
        </div>
    </nav>

    <!-- Contact Section -->
    <section class="px-10 py-20 max-w-3xl mx-auto">
        <h1 class="text-4xl font-bold text-gray-100">Get in Touch</h1>
        <p class="text-gray-400 mt-4">
            Whether you’re a hiring manager, recruiter, or cybersecurity professional, 
            I’d love to connect.  
            Use the form below or reach out via LinkedIn.
        </p>

        <!-- Contact Form -->
        <form 
            action="https://api.web3forms.com/submit"
            method="POST"
            class="mt-12 space-y-6 bg-[#112240] p-10 rounded-lg shadow-xl border border-teal-400/20">

            <!-- REQUIRED ACCESS KEY -->
            <input type="hidden" name="access_key" value="e07cd5aa-6b44-45a4-81fa-1c4349aa36f5">

            <!-- Name -->
            <div>
                <label class="block text-gray-300 mb-2">Full Name</label>
                <input type="text" name="name" required
                    class="w-full px-4 py-3 rounded bg-[#0a192f] text-gray-300 border border-gray-700 focus:border-teal-400 outline-none">
            </div>

            <!-- Email -->
            <div>
                <label class="block text-gray-300 mb-2">Email</label>
                <input type="email" name="email" required
                    class="w-full px-4 py-3 rounded bg-[#0a192f] text-gray-300 border border-gray-700 focus:border-teal-400 outline-none">
            </div>

            <!-- Message -->
            <div>
                <label class="block text-gray-300 mb-2">Message</label>
                <textarea name="message" rows="6" required
                    class="w-full px-4 py-3 rounded bg-[#0a192f] text-gray-300 border border-gray-700 focus:border-teal-400 outline-none"></textarea>
            </div>

            <!-- Success + Error Messages -->
            <div id="form-status" class="text-center text-sm mt-2 hidden"></div>

            <!-- Submit Button -->
            <button type="submit"
                class="w-full py-3 rounded-md border border-teal-400 text-teal-400 hover:bg-teal-400 hover:text-black transition">
                Send Message
            </button>
        </form>
    </section>

    <!-- Simple Form Handler -->
    <script>
        const form = document.querySelector("form");
        const statusDiv = document.getElementById("form-status");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            statusDiv.classList.remove("hidden");
            statusDiv.textContent = "Sending...";
            statusDiv.className = "text-blue-300 text-center text-sm mt-2";

            const formData = new FormData(form);

            try {
                const res = await fetch(form.action, {
                    method: "POST",
                    body: formData,
                    headers: { Accept: "application/json" },
                });

                if (res.ok) {
                    statusDiv.textContent = "Message sent successfully!";
                    statusDiv.className = "text-green-400 text-center text-sm mt-2";
                    form.reset();
                } else {
                    throw new Error("Submission failed");
                }
            } catch (err) {
                statusDiv.textContent = "Something went wrong. Please try again.";
                statusDiv.className = "text-red-400 text-center text-sm mt-2";
            }
        });
    </script>

</body>
</html>
