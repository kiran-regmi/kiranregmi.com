<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Cybersecurity Voice Agent</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 100%);
            color: #fff;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .container {
            max-width: 700px;
            width: 100%;
            text-align: center;
        }

        .title {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            animation: fadeIn 0.8s ease;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #a0aec0;
            margin-bottom: 2rem;
            animation: fadeIn 0.8s ease 0.2s backwards;
        }

        .permission-notice {
            background: rgba(237, 137, 54, 0.2);
            border: 1px solid rgba(237, 137, 54, 0.4);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 2rem;
            color: #f6ad55;
            font-size: 0.9rem;
            display: none;
        }

        .permission-notice.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .agent-status {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            animation: fadeIn 0.8s ease 0.4s backwards;
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #48bb78;
            animation: pulse 2s infinite;
        }

        .status-dot.listening {
            background: #f56565;
        }

        .status-dot.thinking {
            background: #ed8936;
        }

        .talk-button {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.4);
            margin: 0 auto 1.5rem;
            display: block;
        }

        .talk-button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 15px 50px rgba(102, 126, 234, 0.6);
        }

        .talk-button:active:not(:disabled) {
            transform: scale(0.98);
        }

        .talk-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .talk-button.listening {
            background: linear-gradient(135deg, #f56565 0%, #ed8936 100%);
            animation: pulseButton 1.5s infinite;
        }

        .talk-button.thinking {
            background: linear-gradient(135deg, #ed8936 0%, #f6ad55 100%);
        }

        .mic-icon {
            font-size: 3rem;
        }

        .input-method {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .method-btn {
            background: rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: #667eea;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .method-btn.active {
            background: rgba(102, 126, 234, 0.4);
            border-color: #667eea;
        }

        .method-btn:hover {
            background: rgba(102, 126, 234, 0.3);
        }

        .text-input-container {
            display: none;
            margin-top: 1rem;
        }

        .text-input-container.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .text-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 10px;
            padding: 1rem;
            color: white;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        .text-input::placeholder {
            color: #a0aec0;
        }

        .send-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .transcript-container {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 15px;
            padding: 1.5rem;
            min-height: 150px;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 2rem;
            text-align: left;
            display: none;
        }

        .transcript-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .message {
            margin-bottom: 1rem;
            padding: 1rem;
            border-radius: 10px;
            animation: slideIn 0.3s ease;
        }

        .message.user {
            background: rgba(102, 126, 234, 0.2);
            border-left: 3px solid #667eea;
        }

        .message.agent {
            background: rgba(72, 187, 120, 0.2);
            border-left: 3px solid #48bb78;
        }

        .message-label {
            font-size: 0.8rem;
            color: #a0aec0;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .message-text {
            color: #cbd5e0;
            line-height: 1.6;
        }

        .capabilities {
            margin-top: 2rem;
            padding: 1.5rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
            animation: fadeIn 0.8s ease 0.6s backwards;
        }

        .capabilities h3 {
            color: #667eea;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .capabilities ul {
            list-style: none;
            color: #cbd5e0;
            text-align: left;
        }

        .capabilities li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
        }

        .capabilities li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #48bb78;
            font-weight: bold;
        }

        .error-message {
            background: rgba(245, 101, 101, 0.2);
            border: 1px solid rgba(245, 101, 101, 0.3);
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
            color: #f56565;
            display: none;
        }

        .error-message.active {
            display: block;
            animation: shake 0.5s ease;
        }

        .back-link {
            position: fixed;
            top: 2rem;
            left: 2rem;
            color: #667eea;
            text-decoration: none;
            font-size: 1rem;
            transition: color 0.3s ease;
        }

        .back-link:hover {
            color: #764ba2;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        @keyframes pulseButton {
            0%, 100% {
                box-shadow: 0 10px 40px rgba(245, 101, 101, 0.4);
            }
            50% {
                box-shadow: 0 15px 50px rgba(245, 101, 101, 0.8);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
    </style>
</head>
<body>
    <a href="7dayai.html" class="back-link">‚Üê Back to Portfolio</a>

    <div class="container">
        <h1 class="title">AI Cybersecurity Assistant</h1>
        <p class="subtitle">Ask me anything about cybersecurity, GRC, or AI governance</p>

        <div class="permission-notice" id="permissionNotice">
            ‚ö†Ô∏è Microphone access required. Please allow when prompted, or use text input below.
        </div>

        <div class="agent-status">
            <div class="status-indicator">
                <div class="status-dot" id="statusDot"></div>
                <span id="statusText">Ready to talk</span>
            </div>

            <div class="input-method">
                <button class="method-btn active" id="voiceBtn" onclick="switchMode('voice')">üéôÔ∏è Voice</button>
                <button class="method-btn" id="textBtn" onclick="switchMode('text')">‚å®Ô∏è Type</button>
            </div>

            <div id="voiceMode">
                <button class="talk-button" id="talkButton">
                    <span class="mic-icon" id="micIcon">üéôÔ∏è</span>
                </button>
                <p style="color: #a0aec0; font-size: 0.9rem;">Click and speak your question</p>
            </div>

            <div class="text-input-container" id="textMode">
                <input type="text" class="text-input" id="textInput" placeholder="Type your cybersecurity question here...">
                <button class="send-btn" onclick="sendTextMessage()">Send Message</button>
            </div>
        </div>

        <div class="error-message" id="errorMessage"></div>

        <div class="transcript-container" id="transcriptContainer"></div>

        <div class="capabilities">
            <h3>I can help you with:</h3>
            <ul>
                <li>Cybersecurity threats and risk management</li>
                <li>GRC frameworks (SOC 2, NIST, ISO 27001)</li>
                <li>AI security and governance best practices</li>
                <li>Third-party risk management (TPRM)</li>
                <li>Compliance and audit preparation</li>
                <li>Security controls and implementations</li>
            </ul>
        </div>
    </div>

    <script>
        const talkButton = document.getElementById('talkButton');
        const micIcon = document.getElementById('micIcon');
        const statusDot = document.getElementById('statusDot');
        const statusText = document.getElementById('statusText');
        const transcriptContainer = document.getElementById('transcriptContainer');
        const errorMessage = document.getElementById('errorMessage');
        const permissionNotice = document.getElementById('permissionNotice');
        const textInput = document.getElementById('textInput');

        let recognition = null;
        let isListening = false;
        let conversationHistory = [];
        let currentMode = 'voice';
        let isSpeaking = false;
        let currentUtterance = null;

        function switchMode(mode) {
            currentMode = mode;
            const voiceBtn = document.getElementById('voiceBtn');
            const textBtn = document.getElementById('textBtn');
            const voiceMode = document.getElementById('voiceMode');
            const textMode = document.getElementById('textMode');

            if (mode === 'voice') {
                voiceBtn.classList.add('active');
                textBtn.classList.remove('active');
                voiceMode.style.display = 'block';
                textMode.classList.remove('active');
                initSpeechRecognition();
            } else {
                textBtn.classList.add('active');
                voiceBtn.classList.remove('active');
                voiceMode.style.display = 'none';
                textMode.classList.add('active');
            }
        }

        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-US';

                recognition.onstart = () => {
                    isListening = true;
                    talkButton.classList.add('listening');
                    statusDot.classList.add('listening');
                    statusText.textContent = 'Listening...';
                    micIcon.textContent = 'üî¥';
                    permissionNotice.classList.remove('active');
                };

                recognition.onresult = async (event) => {
                    const transcript = event.results[0][0].transcript;
                    addMessage('user', transcript);
                    await getAIResponse(transcript);
                };

                recognition.onerror = (event) => {
                    if (event.error === 'not-allowed') {
                        permissionNotice.classList.add('active');
                        showError('Microphone access denied. Please enable microphone in browser settings or use text input.');
                    } else {
                        showError(`Error: ${event.error}. Please try again or use text input.`);
                    }
                    resetButton();
                };

                recognition.onend = () => {
                    if (isListening) {
                        resetButton();
                    }
                };
            } else {
                showError('Speech recognition not supported. Using text input mode.');
                switchMode('text');
            }
        }

        talkButton.addEventListener('click', () => {
            // Stop current speech if speaking
            if (isSpeaking && window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
                isSpeaking = false;
                statusText.textContent = 'Ready to talk';
            }

            if (!recognition) {
                initSpeechRecognition();
            }
            
            if (!recognition) {
                switchMode('text');
                return;
            }

            if (isListening) {
                recognition.stop();
                resetButton();
            } else {
                try {
                    recognition.start();
                    transcriptContainer.classList.add('active');
                } catch (error) {
                    showError('Could not start microphone. Using text input.');
                    switchMode('text');
                }
            }
        });

        textInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendTextMessage();
            }
        });

        async function sendTextMessage() {
            const message = textInput.value.trim();
            if (!message) return;

            textInput.value = '';
            addMessage('user', message);
            transcriptContainer.classList.add('active');
            await getAIResponse(message);
        }

        async function getAIResponse(userMessage) {
            statusDot.classList.remove('listening');
            statusDot.classList.add('thinking');
            statusText.textContent = 'Thinking...';
            if (currentMode === 'voice') {
                talkButton.classList.remove('listening');
                talkButton.classList.add('thinking');
                micIcon.textContent = '‚è≥';
            }

            // Stop any ongoing speech
            if (window.speechSynthesis.speaking) {
                window.speechSynthesis.cancel();
            }

            try {
                const aiResponse = generateIntelligentResponse(userMessage);

                conversationHistory.push(
                    { role: 'user', content: userMessage },
                    { role: 'assistant', content: aiResponse }
                );

                addMessage('agent', aiResponse);
                
                if (currentMode === 'voice') {
                    speakResponse(aiResponse);
                }

            } catch (error) {
                showError('Something went wrong. Please try again.');
                console.error('Error:', error);
            }

            resetButton();
        }

        function generateIntelligentResponse(question) {
            const q = question.toLowerCase().trim();
            const lastContext = conversationHistory.length > 0 ? 
                conversationHistory[conversationHistory.length - 1].content.toLowerCase() : '';
            
            // Check if question is out of scope
            const cybersecurityKeywords = [
                'security', 'cyber', 'hack', 'risk', 'compliance', 'grc', 'governance',
                'audit', 'control', 'threat', 'vulnerability', 'encryption', 'authentication',
                'firewall', 'malware', 'phishing', 'ransomware', 'breach', 'incident',
                'nist', 'iso', 'soc', 'gdpr', 'hipaa', 'pci', 'policy', 'framework',
                'ai security', 'data protection', 'privacy', 'pen test', 'vulnerability',
                'zero trust', 'access control', 'identity', 'tprm', 'vendor', 'third party'
            ];
            
            const isRelevant = cybersecurityKeywords.some(keyword => q.includes(keyword));
            
            if (!isRelevant && q.length > 5) {
                return "I'm specialized in cybersecurity, GRC, and AI governance topics. I can help you with questions about security frameworks, compliance, risk management, threat prevention, and governance practices. What would you like to know about cybersecurity?";
            }

            // Handle follow-up questions with context
            if ((q.includes('how') || q.includes('what about') || q.includes('tell me more')) && 
                lastContext.includes('soc 2')) {
                return "For SOC 2 implementation, start with gap analysis against the Trust Service Criteria, document your security policies and procedures, implement required controls, and engage an auditor. The process typically takes 3-6 months. Type 1 reports show controls at a point in time, while Type 2 demonstrates effectiveness over 6-12 months.";
            }

            // GRC - Governance, Risk, and Compliance
            if (q.includes('grc') && !q.includes('framework')) {
                return "GRC stands for Governance, Risk, and Compliance. It's an integrated approach to managing an organization's overall governance structure, enterprise risk management, and regulatory compliance. GRC helps organizations align IT with business objectives, manage risks effectively, and meet compliance requirements efficiently.";
            }
            
            if (q.includes('grc') && q.includes('framework')) {
                return "Common GRC frameworks include NIST Cybersecurity Framework, ISO 27001 for information security management, COSO for internal controls, and COBIT for IT governance. These frameworks help organizations establish governance structures, identify and manage risks, and ensure regulatory compliance.";
            }

            // SOC 2
            if (q.includes('soc 2') || q.includes('soc2')) {
                if (q.includes('difference') || q.includes('vs') || q.includes('compare')) {
                    return "SOC 2 Type 1 evaluates the design of controls at a specific point in time, like a snapshot. Type 2 tests the operating effectiveness of those controls over a period, usually 6-12 months. Type 2 is more comprehensive and often preferred by customers as it demonstrates consistent security practices.";
                }
                return "SOC 2 is a compliance framework for service organizations that evaluates controls based on five Trust Service Criteria: Security, Availability, Processing Integrity, Confidentiality, and Privacy. It's essential for SaaS companies and cloud service providers to demonstrate they securely handle customer data.";
            }

            // NIST AI RMF
            if (q.includes('nist') && (q.includes('ai') || q.includes('rmf') || q.includes('artificial intelligence'))) {
                return "The NIST AI Risk Management Framework helps organizations manage risks throughout the AI lifecycle using four core functions: GOVERN establishes accountability and oversight, MAP identifies AI risks and context, MEASURE assesses and tracks risks, and MANAGE allocates resources to mitigate risks. It's designed to be flexible and applicable to any AI system.";
            }

            // NIST Cybersecurity Framework
            if (q.includes('nist') && (q.includes('cyber') || q.includes('csf'))) {
                return "The NIST Cybersecurity Framework consists of five core functions: Identify your assets and risks, Protect through safeguards and controls, Detect security events quickly, Respond to incidents effectively, and Recover operations after incidents. It's widely adopted across industries for managing cybersecurity risk.";
            }

            // ISO 27001
            if (q.includes('iso 27001') || q.includes('iso27001')) {
                if (q.includes('implement') || q.includes('get certified')) {
                    return "ISO 27001 implementation involves defining your ISMS scope, conducting risk assessments, implementing necessary controls from Annex A, documenting policies and procedures, training staff, and undergoing external audit. Certification typically takes 6-12 months depending on organization size and maturity.";
                }
                return "ISO 27001 is the international standard for Information Security Management Systems. It provides a systematic approach to managing sensitive information through risk assessment, security controls implementation, and continuous improvement. Certification demonstrates to customers that you take information security seriously.";
            }

            // TPRM
            if (q.includes('tprm') || q.includes('third party risk') || q.includes('third-party risk') || 
                q.includes('vendor risk') || q.includes('supplier risk')) {
                return "Third-Party Risk Management evaluates security and compliance risks from vendors and partners. Key steps include: conducting due diligence before engagement, using security questionnaires and assessments, reviewing SOC 2 reports or certifications, defining SLAs with security requirements, and continuous monitoring. Critical vendors should undergo annual reassessments.";
            }

            // Ransomware
            if (q.includes('ransomware')) {
                if (q.includes('prevent') || q.includes('protect') || q.includes('stop')) {
                    return "Prevent ransomware with: regular offline backups, endpoint detection and response tools, network segmentation to limit spread, email filtering and anti-phishing training, patch management, least privilege access, and incident response planning. Multi-factor authentication and application whitelisting also significantly reduce risk.";
                }
                return "Ransomware encrypts your data and demands payment for decryption keys. Modern variants also steal data to pressure payment. Never pay ransoms as it funds criminal operations and doesn't guarantee data recovery. Focus on prevention, backups, and incident response preparedness.";
            }

            // Zero Trust
            if (q.includes('zero trust') || q.includes('zerotrust')) {
                return "Zero Trust security operates on 'never trust, always verify.' Core principles include: verify every user and device explicitly, use least privilege access, assume breach mentality, micro-segmentation of networks, continuous monitoring and validation, and strong authentication. It's essential for modern cloud and remote work environments.";
            }

            // Phishing
            if (q.includes('phishing') || q.includes('spear phishing')) {
                if (q.includes('prevent') || q.includes('train') || q.includes('stop')) {
                    return "Combat phishing through regular security awareness training, simulated phishing campaigns to test readiness, email filtering and anti-spoofing controls, multi-factor authentication to protect compromised credentials, and clear reporting procedures. Train users to verify sender authenticity and be suspicious of urgent requests.";
                }
                return "Phishing uses fraudulent emails to trick users into revealing credentials or downloading malware. Spear phishing targets specific individuals with personalized content. Warning signs include urgent language, suspicious links, requests for sensitive information, and mismatched sender addresses. Always verify requests through alternate channels.";
            }

            // Incident Response
            if (q.includes('incident response') || q.includes('ir plan') || q.includes('security incident')) {
                return "An effective incident response plan includes six phases: Preparation with defined roles and tools, Identification of security events, Containment to limit damage, Eradication to remove the threat, Recovery to restore operations, and Lessons Learned for improvement. Test your plan regularly and maintain an incident response team with clear escalation procedures.";
            }

            // Penetration Testing
            if (q.includes('penetration test') || q.includes('pentest') || q.includes('pen test')) {
                return "Penetration testing simulates real attacks to find vulnerabilities before hackers do. Conduct pentests at least annually, after major changes, and before product launches. Scope should include network infrastructure, web applications, APIs, and social engineering. Work with qualified testers and ensure proper authorization and rules of engagement.";
            }

            // GDPR
            if (q.includes('gdpr') || q.includes('data privacy regulation')) {
                return "GDPR requires organizations processing EU personal data to: obtain explicit consent, notify breaches within 72 hours, honor data subject rights like access and deletion, implement privacy by design, maintain data processing records, and appoint a DPO for high-risk processing. Violations can result in fines up to 4% of global revenue.";
            }

            // Multi-Factor Authentication
            if (q.includes('mfa') || q.includes('multi-factor') || q.includes('2fa') || q.includes('two-factor')) {
                return "Multi-factor authentication requires two or more verification methods: something you know like a password, something you have like a token or phone, or something you are like biometrics. MFA dramatically reduces unauthorized access risk. Implement it for all remote access, privileged accounts, and sensitive systems. Avoid SMS-based MFA when possible due to SIM swapping risks.";
            }

            // Encryption
            if (q.includes('encrypt') && !q.includes('ransomware')) {
                return "Encryption protects data confidentiality by converting it into unreadable format without the decryption key. Use AES-256 for data at rest, TLS 1.2 or higher for data in transit, and implement proper key management. Encrypt sensitive data, backups, and mobile devices. Remember encryption doesn't prevent data loss, but protects confidentiality if systems are compromised.";
            }

            // Access Control
            if (q.includes('access control') || q.includes('least privilege')) {
                return "Least privilege means users get only the minimum access needed for their job. Implement through: role-based access control, regular access reviews, time-limited elevated privileges, separation of duties for critical functions, and just-in-time access provisioning. Remove access immediately when roles change or employment ends.";
            }

            // Security Awareness
            if (q.includes('security awareness') || q.includes('security training')) {
                return "Effective security awareness training should be: ongoing not one-time, role-based for relevance, include simulated attacks to test learning, cover current threats like phishing and social engineering, and make reporting easy. Track metrics like phishing click rates and time to report incidents. Culture change takes time and executive support.";
            }

            // Vulnerability Management
            if (q.includes('vulnerability') && (q.includes('manage') || q.includes('scan') || q.includes('patch'))) {
                return "Vulnerability management includes: regular scanning to discover vulnerabilities, risk-based prioritization using CVSS scores and exploit availability, timely patching with critical patches within days, compensating controls for unpatchable systems, and continuous monitoring. Use automated tools and maintain an asset inventory to ensure complete coverage.";
            }

            // Cloud Security
            if (q.includes('cloud security') || (q.includes('aws') || q.includes('azure') || q.includes('gcp'))) {
                return "Cloud security follows the shared responsibility model: providers secure the infrastructure, you secure your data and applications. Key practices include: strong identity and access management, encrypt data at rest and in transit, enable logging and monitoring, use security groups and network segmentation, conduct regular audits, and understand your provider's compliance certifications.";
            }

            // Data Loss Prevention
            if (q.includes('dlp') || q.includes('data loss prevention') || q.includes('data leakage')) {
                return "Data Loss Prevention prevents sensitive data from leaving your organization. Implement DLP through: data classification to identify sensitive information, endpoint controls to block unauthorized transfers, email and web filtering, encryption of sensitive data, user activity monitoring, and clear acceptable use policies. Focus on high-risk data like PII, PHI, and intellectual property.";
            }

            // Business Continuity
            if (q.includes('business continuity') || q.includes('bcp') || q.includes('disaster recovery')) {
                return "Business Continuity Planning ensures operations continue during disruptions. Key elements include: business impact analysis to identify critical functions, recovery time and point objectives, documented recovery procedures, backup and redundancy strategies, alternate site provisions, regular testing, and crisis communication plans. Update plans annually and after major changes.";
            }

            // Security Operations Center
            if (q.includes('soc') && (q.includes('center') || q.includes('operations'))) {
                return "A Security Operations Center monitors, detects, and responds to security threats 24/7. Essential components include: SIEM for log aggregation and analysis, threat intelligence feeds, incident response playbooks, skilled analysts, defined escalation procedures, and metrics for mean time to detect and respond. Consider managed SOC services if building in-house isn't feasible.";
            }

            // Risk Assessment
            if (q.includes('risk assessment') || q.includes('risk analysis')) {
                return "Risk assessment identifies, evaluates, and prioritizes risks. The process includes: asset identification, threat and vulnerability analysis, likelihood and impact assessment, risk scoring, and treatment decisions to accept, mitigate, transfer, or avoid. Document assessments, review regularly, and ensure management understands residual risks after controls are applied.";
            }

            // Default helpful response for unclear questions
            if (q.length < 10 || q.split(' ').length < 3) {
                return "I'd be happy to help! Could you be more specific about what you'd like to know? I can explain cybersecurity concepts, compliance frameworks like SOC 2 and ISO 27001, risk management, security controls, or best practices for protecting your organization.";
            }

            // Catch-all for cybersecurity topics not explicitly covered
            return "That's an important cybersecurity topic. While I can provide general guidance, I recommend consulting with security professionals for specific implementation details. I specialize in areas like GRC frameworks, compliance standards, risk management, and security best practices. Is there a particular aspect you'd like to explore?";
        }

        function speakResponse(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                
                currentUtterance = new SpeechSynthesisUtterance(text);
                currentUtterance.rate = 0.95;
                currentUtterance.pitch = 1;
                currentUtterance.volume = 1;
                
                currentUtterance.onstart = () => {
                    isSpeaking = true;
                    statusText.textContent = 'Speaking... (click mic to interrupt)';
                };

                currentUtterance.onend = () => {
                    isSpeaking = false;
                    statusText.textContent = 'Ready to talk';
                    currentUtterance = null;
                };

                currentUtterance.onerror = () => {
                    isSpeaking = false;
                    statusText.textContent = 'Ready to talk';
                };

                window.speechSynthesis.speak(currentUtterance);
            }
        }

        function addMessage(type, text) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const label = document.createElement('div');
            label.className = 'message-label';
            label.textContent = type === 'user' ? 'You:' : 'AI Assistant:';
            
            const content = document.createElement('div');
            content.className = 'message-text';
            content.textContent = text;
            
            messageDiv.appendChild(label);
            messageDiv.appendChild(content);
            transcriptContainer.appendChild(messageDiv);
            
            transcriptContainer.scrollTop = transcriptContainer.scrollHeight;
        }

        function resetButton() {
            isListening = false;
            talkButton.classList.remove('listening', 'thinking');
            statusDot.classList.remove('listening', 'thinking');
            statusText.textContent = 'Ready to talk';
            micIcon.textContent = 'üéôÔ∏è';
        }

        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.classList.add('active');
            setTimeout(() => {
                errorMessage.classList.remove('active');
            }, 5000);
        }

        // Initialize
        initSpeechRecognition();
    </script>
</body>
</html>